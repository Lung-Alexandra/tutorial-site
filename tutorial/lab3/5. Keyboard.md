# Interactiunea prin tastatura

_**03_05_keyboard.cpp**_

Realizarea unei scene 2D in care obiectele se misca prin intermediul
interactiunii cu tastatura.

## 1. Clasa Dreptunghi
Va fi folosita pentru a desena un dreptunghi si originea sistemului de coordonate.

Pozitia si rotatia acestora, stocate in 
```cpp
	float xPosition = 0.0, yPosition = 0.0;
	float angle = 0.0;
```
sunt actualizate folosind metodele:
```cpp
	void rotate(float deltaAngle)
	{
		angle += deltaAngle;
	}

	void move(float dx, float dy)
	{
		xPosition += dx;
		yPosition += dy;
	}
```

## 2. glutKeyboardFunc()
Este modul prin care putem seta o functie care sa fie apelata ori de cate ori este 
apasata o tasta ce are un cod ASCII asociat.

In programul nostru, aceasta functie este:
```cpp
void ProcessNormalKeys(unsigned char key, int x, int y)
{
	switch (key) {
	case 'l':
		dreptunghi->rotate(0.2);
		break;
	case 'r':
		dreptunghi->rotate(-0.2);
		break;
	}
	if (key == 27)
		exit(0);
}
```
Parametrii sunt:
- **key**: caracterul corespondent tastei apasate
- **x, y**: pozitia cursorului in momentul apasarii

In cazul nostru am rotit dreptunghiul la apasarea tastelor 'l' si 'r'.

## 3. glutSpecialFunc()
Este modul prin care putem seta o functie care sa fie apelata ori de cate ori este
apasata o tasta **speciala** (ce **nu** are un cod ASCII asociat)

In programul nostru, aceasta functie este:
```cpp
void ProcessSpecialKeys(int key, int x, int y) 
{
	switch (key)			
	{						
		case GLUT_KEY_LEFT:
			dreptunghi->move(-10, 0);
			break;
		case GLUT_KEY_RIGHT:
			dreptunghi->move(10, 0);
			break;
		case GLUT_KEY_UP:
			dreptunghi->move(0, 10);
			break;
		case GLUT_KEY_DOWN:
			dreptunghi->move(0, -10);
			break;
	}
}
```
Parametrii sunt:
- **key**: o valoare asociata tastei apasate
- **x, y**: pozitia cursorului in momentul apasarii

In cazul nostru am mutat dreptunghiul pe verticala/orizontala la apasarea sagetilor.

## 4. glutIdleFunc()
Foarte important este sa setam functia de randare  folosind ```glutIdleFunc()```,
pentru a actualiza constant scena. In caz contract, nu am vedea modificarile din urma apasarii
tastaturii.

```cpp
	glutDisplayFunc(RenderFunction);
	glutIdleFunc(RenderFunction);		
```

