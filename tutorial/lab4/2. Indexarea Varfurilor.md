# Indexarea Varfurilor

_**04_02_indexare.cpp**_

Program ce deseneaza un dreptunghi, folosindu-se tehnicile MODERN OpenGL;

ELEMENTE DE NOUTATE:
 - folosirea indexarii varfurilor: elemente asociate (matrice, buffer);
 - desenarea se face folosind functia glDrawElements();
 - 
## 1. Clasa Dreptunghi - indici varfuri

Pentru a folosi indexarea varfurilor, trebuie sa initializam un buffer pentru acestia
(la fel cum am procedat pentru coordonatele si culorile varfurilor)

Incepem prin a declara o variabila pentru a stoca id-ul bufferului:
```cpp
    GLuint eboId;
```
si lista cu indici:
```cpp
	GLuint indices[6] = {
		0, 1, 2, 3, 0, 2
	};
```

Urmeaza sa initializam buffer-ul:
```cpp
    glGenBuffers(1, &eboId);														
    glBindBuffer(GL_ELEMENT_ARRAY_BUFFER, eboId);
    glBufferData(GL_ELEMENT_ARRAY_BUFFER, sizeof(indices), indices, GL_STATIC_DRAW);
```
De observat faptul ca am folosit ```GL_ELEMENT_ARRAY_BUFFER``` in loc de 
```GL_ARRAY_BUFFER```.

## 2. Dreptunghi::render() - desenarea folosind indici pentru varfuri
Pana acum am folosit ```glDrawArrays()``` pentru a desena. Pentru a utiliza bufferul de
indici creat anterior, vom utiliza functia 
```cpp
glDrawElements(GLenum mode, GLsizei count, GLenum, type, const void* indices)
```
- ```mode```:  reprezinta modul de desenare si este acelasi ca pana acum
- ```count```: reprezinta numarul de varfuri pe care vrem sa le desenam
- ```type```: reprezinta tipul indicilor pe care i-am definit (GLuit in cazul nostru)
- ```indices```: pointer catre pozitia din bufferul de indici de unde vrem sa incepem

In programul nostru am apelat:
```cpp
glDrawElements(GL_TRIANGLES, 6, GL_UNSIGNED_INT, (void*)(0 * sizeof(GLuint)));
```
care va desena tringhiurile formate din indicii ```[0, 1, 2]``` si ```[3, 0, 2]```.
